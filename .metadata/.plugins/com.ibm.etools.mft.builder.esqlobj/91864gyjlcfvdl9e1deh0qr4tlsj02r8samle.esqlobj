CREATE COMPUTE MODULE MF_MAIN_Process_Open_Conn
	CREATE FUNCTION Main() RETURNS BOOLEAN
	BEGIN
		
		DECLARE tcpIn REFERENCE TO InputLocalEnvironment.TCPIP.Input.ConnectionDetails;
		IF SESSION IS NULL THEN
			SET SESSION.1.Id = tcpIn.Id;
			SET SESSION.1.Port = tcpIn.Port;
		ELSE
			DECLARE inx INTEGER;
			SET inx = CARDINALITY(SESSION.*[]);
		END IF;
		
		RETURN TRUE;
	END;
END MODULE;